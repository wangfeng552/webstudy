<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>弹窗</title>
	<script src="js/zepto.min.js"></script>
</head>
<body>
<style>
	.top{height: 80px; background: #562}
	.changewidth{width: 100px;}
	.footer	{height: 2000px; background: #de5;}
</style>
<div class="top"></div>
<input type="text" class="changewidth"/>
<div class="footer">sdf</div>
<script>
	$(".changewidth").on("focus",function(){
		var self=$(this);
		self.animate({
			"width":"80px;"
		},"slow");
		$("body").scrollTo({toT:80})
	})
	$(".changewidth").on("blur",function(){
		var self=$(this);
		self.animate({
			"width":"100px;"
		},"slow");
		$("body").scrollTo({toT:0})
	})
</script>
<script>
	$.fn.scrollTo =function(options){			//$.fn.extend(object);给jQuery对象添加方法。
		var defaults = {
			toT : 0,    //滚动目标位置
			durTime : 500,  //过渡动画时间
			delay : 30,     //定时器时间
			callback:null   //回调函数
		};
		var opts = $.extend(defaults,options),	//$.extend(object);为扩展jQuery类本身.为类添加新的方法。
				timer = null,
				_this = this,
				curTop = _this.scrollTop(),//滚动条当前的位置
				subTop = opts.toT - curTop,    //滚动条目标位置和当前位置的差值
				index = 0,
				dur = Math.round(opts.durTime / opts.delay),
				smoothScroll = function(t){
					index++;
					var per = Math.round(subTop/dur);
					if(index >= dur){
						_this.scrollTop(t);
						window.clearInterval(timer);
						if(opts.callback && typeof opts.callback == 'function'){
							opts.callback();
						}
						return;
					}else{
						_this.scrollTop(curTop + index*per);
					}
				};
		timer = window.setInterval(function(){
			smoothScroll(opts.toT);
		}, opts.delay);
		return _this;
	};
</script>
</body>
</html>