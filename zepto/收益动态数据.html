<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>弹窗</title>
	<script src="js/echarts.line.js"></script>
</head>
<body>
<div id="zxt_map" style="width:600px; height: 600px;">1</div>
<script>
	// 基于准备好的dom，初始化echarts实例
	var myChart = echarts.init(document.getElementById('zxt_map'));

	// 指定图表的配置项和数据
	var option = {
		title: {
			text: '7日年化收益率(％)'
		},
		tooltip : {							//提示框
			backgroundColor:'#ff6600',
			trigger: 'axis',
			triggerOn:"click",
			formatter: '{c}'//{a0}: {b0}<br />{c0}: {d0}
		},
		grid: {
			left: '3%',
			right: '4%',
			bottom: '3%',
			containLabel: true
		},
		xAxis : [
			{
				type : 'category',
				boundaryGap : false,
				data : ['9.24','9.25','9.26','9.27','9.28','9.29','9.30']
			}
		],
		yAxis : [
			{
				type : 'value',
				min:2.35
			}
		],
		series : [
			{
				name:'搜索引擎',
				type:'line',
				stack: '总量',
				label: {
					normal: {
						show: true,
						position: 'top'
					}
				},
				itemStyle:{normal:{
					color:"#f60"
				}},
				lineStyle:{normal:{
					width:4
				}},
				areaStyle: {normal: {color:'rgba(255,102,0,0.2)'}},
				data:[2.41, 2.42, 2.41,2.42,2.45,2.43,2.41]
			}
		]
	};
	// 使用刚指定的配置项和数据显示图表。
	myChart.setOption(option);



	var base = +new Date(2014, 9, 3);
	var oneDay = 24 * 3600 * 1000;
	var date = [];

	var data = [Math.random() * 150];
	var now = new Date(base);

	function addData(shift) {
		now = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/');
		date.push(now);
		data.push((Math.random() - 0.4) * 10 + data[data.length - 1]);

		if (shift) {
			date.shift();
			data.shift();
		}

		now = new Date(+new Date(now) + oneDay);
	}

	for (var i = 1; i < 100; i++) {
		addData();
	}

	option = {
		xAxis: {
			type: 'category',
			boundaryGap: false,
			data: date
		},
		yAxis: {
			boundaryGap: [0, '50%'],
			type: 'value'
		},
		series: [
			{
				name:'成交',
				type:'line',
				smooth:true,
				symbol: 'none',
				stack: 'a',
				areaStyle: {
					normal: {}
				},
				data: data
			}
		]
	};

	app.timeTicket = setInterval(function () {
		addData(true);
		myChart.setOption({
			xAxis: {
				data: date
			},
			series: [{
				name:'成交',
				data: data
			}]
		});
	}, 500);
</script>
</body>
</html>