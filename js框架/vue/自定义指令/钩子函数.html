<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>vue</title>
	<script src="../js/vue.js"></script>
</head>
<body>
<!--cas2注册全局指令-->
<div class="mk">
	<!--如果指令需要多个值，可以传入一个 {}。记住，指令函数能够接受所有合法类型的 Javascript 表达式。-->
	<input type="text" v-focus="{color:'red',age:'45'}" value="值被binding的值替换">
</div>
<script>
    Vue.directive('focus', {
        inserted: function (el,binding,vnode) {
            el.focus()
			console.log(binding.value.color)
//			console.log(vnode)
			//函数简写
			el.style.color=binding.value.color
        }
    })
    var vm=new Vue({
        el: '.mk'
    })

	/*钩子函数
	* bind		 只调用一次，初始化
	* inserted   绑定元素插入到dom中
	* update
	* componentUpdate
	* unbind
	*
	* 钩子函数参数
	*el 		指令所绑定的元素，可以直接操作DOM
	* binding	一个对象，包含以下属性
		* name			指令名 不包含v-前缀
		* value			指令绑定的值 例如： v-my-directive="1 + 1", value 的值是 2
		* oldValue		指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。
		* expression	绑定值的字符串形式。 例如 v-my-directive="1 + 1" ， expression 的值是 "1 + 1"。
		* arg			传给指令的参数。例如 v-my-directive:foo， arg 的值是 "foo"。
		* modifiers		一个包含修饰符的对象。 例如： v-my-directive.foo.bar, 修饰符对象 modifiers 的值是 { foo: true, bar: true }。
	* vnode
	* oldVnode
	* */
</script>
</body>
</html>

