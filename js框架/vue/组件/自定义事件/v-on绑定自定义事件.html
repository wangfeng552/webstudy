<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>vue</title>
	<script src="../../js/vue.js"></script>
</head>
<body>
<div id="app">
	<p>{{totail}}</p>
	<wf-btn v-on:count-add="showAdd"></wf-btn>
	<wf-btn v-on:count-add="showAdd"></wf-btn>

</div>

<script>
	Vue.component("wf-btn",{
	    template:"<button @click='countAdd'>{{counter}}</button>",
		data:function () {
			return {counter:0}
        },
		methods:{
	        countAdd:function () {
	            this.counter+=1;
	            this.$emit("count-add")
            }
		}

	})
var vm = new Vue({
    el:"#app",
	data:{
        totail:0
	},
	methods:{
		showAdd:function () {
			this.totail+=1;
        }
	}
})

/*
 我们知道，父组件是使用 props 传递数据给子组件，但如果子组件要把数据传递回去，应该怎样做？那就是自定义事件！
$on(eventName) 监听事件
$emit(eventName) 触发事件，直接遍历 vm._events[event] 的每个事件处理程序并执行。
 on和emit的事件必须是在一个公共的实例上，才能触发。
*/
</script>
</body>
</html>

