<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>state</title>
</head>

<body>
  一般来说，你需要在class中声明一个state对象，然后在需要修改时调用setState方法。

  <script>

    class Blink extends Component {

      constructor(props) {
        super(props)
        // 声明state对象
        this.state = {
          count: 1,
          text: ''
        }
      }

      // 接收一个函数
      addCount = () => {
        this.setState((state, props) => ({
          count: state.count + 1
        }))
      }

      // 接收一个对象
      editCount = () => {
        this.setState({
          text: '123'
        })
      }

      render() {
        // 根据当前showText的值决定是否显示text内容
        if (!this.state.count) {
          return null;
        }

        return (
          <View>
            <Text>{this.state.count}</Text>
            <Button title="函数点击加1" onPress={this.addCount} />
          </View>
        );
      }
    }


  </script>

  一切界面变化都是状态state变化
  state的修改必须通过setState()方法
  this.state.likes = 100; // 这样的直接赋值修改无效！
  setState 是一个 merge 合并操作，只修改指定属性，不影响其他属性
  setState 是异步操作，修改不会马上生效
</body>

</html>